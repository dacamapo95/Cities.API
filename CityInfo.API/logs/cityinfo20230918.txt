2023-09-18 20:02:12.888 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-18 20:02:12.967 -05:00 [DBG] Hosting starting
2023-09-18 20:02:13.068 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3D19ED173E177CA2C2DEFD863759A53E0ACFC394)
2023-09-18 20:02:13.092 -05:00 [INF] Now listening on: https://localhost:7169
2023-09-18 20:02:13.093 -05:00 [INF] Now listening on: http://localhost:5169
2023-09-18 20:02:13.094 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-18 20:02:13.094 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-18 20:02:13.095 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-18 20:02:13.096 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-18 20:02:13.096 -05:00 [INF] Hosting environment: Development
2023-09-18 20:02:13.097 -05:00 [INF] Content root path: C:\Users\daniel.males\Documents\Cursos Desarrollo\WebApiFundamentals\07\demos\end\CityInfo.API\
2023-09-18 20:02:13.098 -05:00 [DBG] Hosting started
2023-09-18 20:02:33.607 -05:00 [DBG] Connection id "0HMTOLGDLRFBB" received FIN.
2023-09-18 20:02:33.626 -05:00 [DBG] Connection id "0HMTOLGDLRFBB" accepted.
2023-09-18 20:02:33.630 -05:00 [DBG] Connection id "0HMTOLGDLRFBB" started.
2023-09-18 20:02:33.632 -05:00 [DBG] Connection id "0HMTOLGDLRFBC" accepted.
2023-09-18 20:02:33.634 -05:00 [DBG] Connection id "0HMTOLGDLRFBC" started.
2023-09-18 20:02:33.649 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-18 20:02:33.673 -05:00 [DBG] Connection id "0HMTOLGDLRFBB" stopped.
2023-09-18 20:02:33.679 -05:00 [DBG] Connection id "0HMTOLGDLRFBB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-18 20:02:33.699 -05:00 [DBG] Connection 0HMTOLGDLRFBC established using the following protocol: "Tls13"
2023-09-18 20:02:33.724 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities - -
2023-09-18 20:02:33.732 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-18 20:02:33.753 -05:00 [DBG] The request path  does not match the path filter
2023-09-18 20:02:33.769 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-09-18 20:02:33.771 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-09-18 20:02:33.774 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-18 20:02:33.776 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-18 20:02:33.785 -05:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-09-18 20:02:33.787 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-18 20:02:33.787 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-18 20:02:33.790 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-18 20:02:33.790 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-18 20:02:33.791 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-18 20:02:33.792 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-09-18 20:02:33.887 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-18 20:02:34.043 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-09-18 20:02:34.558 -05:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-09-18 20:02:34.611 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-09-18 20:02:34.791 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-09-18 20:02:34.825 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 20:02:34.857 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (30ms).
2023-09-18 20:02:34.865 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 20:02:35.071 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 20:02:35.079 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-09-18 20:02:35.117 -05:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-09-18 20:02:35.142 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 20:02:35.157 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 20:02:35.158 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 20:02:35.165 -05:00 [DBG] A data reader was disposed.
2023-09-18 20:02:35.170 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 20:02:35.177 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 20:02:35.191 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-18 20:02:35.193 -05:00 [DBG] No information found on request to perform content negotiation.
2023-09-18 20:02:35.194 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-18 20:02:35.194 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-18 20:02:35.195 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-18 20:02:35.196 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-18 20:02:35.280 -05:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1485.4996ms
2023-09-18 20:02:35.282 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-18 20:02:35.286 -05:00 [DBG] Connection id "0HMTOLGDLRFBC" completed keep alive response.
2023-09-18 20:02:35.290 -05:00 [DBG] 'CityInfoContext' disposed.
2023-09-18 20:02:35.293 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities - - - 200 247 application/json;+charset=utf-8 1571.2862ms
2023-09-18 20:27:48.441 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-18 20:27:48.502 -05:00 [DBG] Hosting starting
2023-09-18 20:27:48.601 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3D19ED173E177CA2C2DEFD863759A53E0ACFC394)
2023-09-18 20:27:48.629 -05:00 [INF] Now listening on: https://localhost:7169
2023-09-18 20:27:48.630 -05:00 [INF] Now listening on: http://localhost:5169
2023-09-18 20:27:48.631 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-18 20:27:48.631 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-18 20:27:48.632 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-18 20:27:48.633 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-18 20:27:48.634 -05:00 [INF] Hosting environment: Development
2023-09-18 20:27:48.634 -05:00 [INF] Content root path: C:\Users\daniel.males\Documents\Cursos Desarrollo\WebApiFundamentals\07\demos\end\CityInfo.API\
2023-09-18 20:27:48.635 -05:00 [DBG] Hosting started
2023-09-18 20:27:56.570 -05:00 [DBG] Connection id "0HMTOLUJHUSAM" received FIN.
2023-09-18 20:27:56.576 -05:00 [DBG] Connection id "0HMTOLUJHUSAM" accepted.
2023-09-18 20:27:56.578 -05:00 [DBG] Connection id "0HMTOLUJHUSAM" started.
2023-09-18 20:27:56.579 -05:00 [DBG] Connection id "0HMTOLUJHUSAN" accepted.
2023-09-18 20:27:56.579 -05:00 [DBG] Connection id "0HMTOLUJHUSAN" started.
2023-09-18 20:27:56.587 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-18 20:27:56.610 -05:00 [DBG] Connection id "0HMTOLUJHUSAM" stopped.
2023-09-18 20:27:56.611 -05:00 [DBG] Connection id "0HMTOLUJHUSAM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-18 20:27:56.618 -05:00 [DBG] Connection 0HMTOLUJHUSAN established using the following protocol: "Tls13"
2023-09-18 20:27:56.641 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/1 - -
2023-09-18 20:27:56.648 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-18 20:27:56.672 -05:00 [DBG] The request path  does not match the path filter
2023-09-18 20:27:56.689 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-09-18 20:27:56.691 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-09-18 20:27:56.692 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-09-18 20:27:56.694 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-09-18 20:27:56.712 -05:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-09-18 20:27:56.713 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-18 20:27:56.714 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-18 20:27:56.715 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-18 20:27:56.717 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-18 20:27:56.717 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-18 20:27:56.718 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-09-18 20:27:56.801 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-18 20:27:56.960 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-09-18 20:27:56.965 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-18 20:27:56.966 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-18 20:27:56.968 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-18 20:27:56.968 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-18 20:27:56.969 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-18 20:27:56.970 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-18 20:27:56.972 -05:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-09-18 20:27:56.973 -05:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-09-18 20:27:56.974 -05:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-09-18 20:27:56.975 -05:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-09-18 20:27:56.976 -05:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-09-18 20:27:56.978 -05:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-09-18 20:27:56.979 -05:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-09-18 20:27:57.500 -05:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-09-18 20:27:57.562 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-09-18 20:27:57.751 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-18 20:27:57.794 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 20:27:57.825 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2023-09-18 20:27:57.836 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 20:27:58.037 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 20:27:58.050 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-09-18 20:27:58.108 -05:00 [INF] Executed DbCommand (63ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-09-18 20:27:58.133 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 20:27:58.155 -05:00 [DBG] A data reader was disposed.
2023-09-18 20:27:58.161 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 20:27:58.168 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 20:27:58.180 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-18 20:27:58.183 -05:00 [DBG] No information found on request to perform content negotiation.
2023-09-18 20:27:58.183 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-18 20:27:58.184 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-18 20:27:58.185 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-18 20:27:58.186 -05:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2023-09-18 20:27:58.270 -05:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1549.3177ms
2023-09-18 20:27:58.273 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-09-18 20:27:58.277 -05:00 [DBG] Connection id "0HMTOLUJHUSAN" completed keep alive response.
2023-09-18 20:27:58.281 -05:00 [DBG] 'CityInfoContext' disposed.
2023-09-18 20:27:58.284 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/1 - - - 200 75 application/json;+charset=utf-8 1645.7948ms
2023-09-18 20:30:28.416 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/1?includePointsOfInterest=true - -
2023-09-18 20:30:28.416 -05:00 [DBG] The request path  does not match the path filter
2023-09-18 20:30:28.417 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-09-18 20:30:28.418 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-09-18 20:30:28.419 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-09-18 20:30:28.420 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-09-18 20:30:28.420 -05:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-09-18 20:30:28.421 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-18 20:30:28.422 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-18 20:30:28.424 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-18 20:30:28.425 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-18 20:30:28.426 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-18 20:30:28.427 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-09-18 20:30:28.433 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-09-18 20:30:28.441 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-09-18 20:30:28.442 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-09-18 20:30:28.443 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-18 20:30:28.444 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-09-18 20:30:28.444 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-09-18 20:30:28.445 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-09-18 20:30:28.447 -05:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-09-18 20:30:28.448 -05:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-09-18 20:30:28.449 -05:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-09-18 20:30:28.450 -05:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-09-18 20:30:28.450 -05:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-09-18 20:30:28.451 -05:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-09-18 20:30:28.466 -05:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-09-18 20:30:28.471 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-09-18 20:30:28.484 -05:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-09-18 20:30:28.557 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-18 20:30:28.561 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 20:30:28.562 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-18 20:30:28.563 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 20:30:28.564 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 20:30:28.565 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [PointsOfInterest] AS [p] ON [t].[Id] = [p].[CityId]
ORDER BY [t].[Id]
2023-09-18 20:30:28.576 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [PointsOfInterest] AS [p] ON [t].[Id] = [p].[CityId]
ORDER BY [t].[Id]
2023-09-18 20:30:28.578 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 20:30:28.583 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 20:30:28.596 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 20:30:28.597 -05:00 [DBG] A data reader was disposed.
2023-09-18 20:30:28.598 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 20:30:28.599 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 20:30:28.602 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-18 20:30:28.604 -05:00 [DBG] No information found on request to perform content negotiation.
2023-09-18 20:30:28.605 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-18 20:30:28.605 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-18 20:30:28.606 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-18 20:30:28.607 -05:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-09-18 20:30:28.616 -05:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 188.502ms
2023-09-18 20:30:28.617 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-09-18 20:30:28.618 -05:00 [DBG] Connection id "0HMTOLUJHUSAN" completed keep alive response.
2023-09-18 20:30:28.618 -05:00 [DBG] 'CityInfoContext' disposed.
2023-09-18 20:30:28.619 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/1?includePointsOfInterest=true - - - 200 331 application/json;+charset=utf-8 203.2771ms
2023-09-18 21:18:01.340 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-18 21:18:01.399 -05:00 [DBG] Hosting starting
2023-09-18 21:18:01.479 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3D19ED173E177CA2C2DEFD863759A53E0ACFC394)
2023-09-18 21:18:01.505 -05:00 [INF] Now listening on: https://localhost:7169
2023-09-18 21:18:01.506 -05:00 [INF] Now listening on: http://localhost:5169
2023-09-18 21:18:01.507 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-18 21:18:01.507 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-18 21:18:01.508 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-18 21:18:01.509 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-18 21:18:01.510 -05:00 [INF] Hosting environment: Development
2023-09-18 21:18:01.510 -05:00 [INF] Content root path: C:\Users\daniel.males\Documents\Cursos Desarrollo\WebApiFundamentals\07\demos\end\CityInfo.API\
2023-09-18 21:18:01.511 -05:00 [DBG] Hosting started
2023-09-18 21:30:37.447 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-09-18 21:30:37.522 -05:00 [DBG] Hosting starting
2023-09-18 21:30:37.641 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3D19ED173E177CA2C2DEFD863759A53E0ACFC394)
2023-09-18 21:30:37.664 -05:00 [INF] Now listening on: https://localhost:7169
2023-09-18 21:30:37.665 -05:00 [INF] Now listening on: http://localhost:5169
2023-09-18 21:30:37.665 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-09-18 21:30:37.666 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-09-18 21:30:37.667 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-09-18 21:30:37.668 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-18 21:30:37.668 -05:00 [INF] Hosting environment: Development
2023-09-18 21:30:37.669 -05:00 [INF] Content root path: C:\Users\daniel.males\Documents\Cursos Desarrollo\WebApiFundamentals\07\demos\end\CityInfo.API\
2023-09-18 21:30:37.669 -05:00 [DBG] Hosting started
2023-09-18 21:31:58.360 -05:00 [DBG] Connection id "0HMTON2CG4BHM" received FIN.
2023-09-18 21:31:58.373 -05:00 [DBG] Connection id "0HMTON2CG4BHM" accepted.
2023-09-18 21:31:58.375 -05:00 [DBG] Connection id "0HMTON2CG4BHM" started.
2023-09-18 21:31:58.377 -05:00 [DBG] Connection id "0HMTON2CG4BHN" accepted.
2023-09-18 21:31:58.378 -05:00 [DBG] Connection id "0HMTON2CG4BHN" started.
2023-09-18 21:31:58.389 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-09-18 21:31:58.411 -05:00 [DBG] Connection id "0HMTON2CG4BHM" stopped.
2023-09-18 21:31:58.413 -05:00 [DBG] Connection id "0HMTON2CG4BHM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-09-18 21:31:58.438 -05:00 [DBG] Connection 0HMTON2CG4BHN established using the following protocol: "Tls13"
2023-09-18 21:31:58.464 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest - -
2023-09-18 21:31:58.473 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-09-18 21:31:58.500 -05:00 [DBG] The request path  does not match the path filter
2023-09-18 21:31:58.517 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-09-18 21:31:58.519 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-09-18 21:31:58.520 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-09-18 21:31:58.522 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-09-18 21:31:58.540 -05:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-09-18 21:31:58.541 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-18 21:31:58.542 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-18 21:31:58.543 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-18 21:31:58.544 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-18 21:31:58.545 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-18 21:31:58.547 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-09-18 21:31:58.646 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-09-18 21:31:58.808 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-09-18 21:31:58.813 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-09-18 21:31:58.815 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-09-18 21:31:58.816 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-18 21:31:58.817 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-18 21:31:58.818 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-09-18 21:31:58.819 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-09-18 21:31:59.387 -05:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-09-18 21:31:59.447 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-09-18 21:31:59.624 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-18 21:31:59.673 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 21:31:59.707 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (32ms).
2023-09-18 21:31:59.720 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:31:59.935 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:31:59.948 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-18 21:32:00.010 -05:00 [INF] Executed DbCommand (68ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-18 21:32:00.037 -05:00 [DBG] A data reader was disposed.
2023-09-18 21:32:00.042 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:32:00.050 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:32:00.057 -05:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-09-18 21:32:00.081 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-09-18 21:32:00.087 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 21:32:00.087 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-18 21:32:00.088 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:32:00.090 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:32:00.090 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2023-09-18 21:32:00.098 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2023-09-18 21:32:00.109 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 21:32:00.126 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 21:32:00.127 -05:00 [DBG] A data reader was disposed.
2023-09-18 21:32:00.128 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:32:00.129 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:32:00.143 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-18 21:32:00.148 -05:00 [DBG] No information found on request to perform content negotiation.
2023-09-18 21:32:00.148 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-18 21:32:00.149 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-18 21:32:00.150 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-18 21:32:00.151 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-18 21:32:00.245 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 1695.2795ms
2023-09-18 21:32:00.247 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-09-18 21:32:00.251 -05:00 [DBG] Connection id "0HMTON2CG4BHN" completed keep alive response.
2023-09-18 21:32:00.255 -05:00 [DBG] 'CityInfoContext' disposed.
2023-09-18 21:32:00.257 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest - - - 200 207 application/json;+charset=utf-8 1795.6459ms
2023-09-18 21:33:16.907 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/16/pointsofinterest - -
2023-09-18 21:33:16.907 -05:00 [DBG] The request path  does not match the path filter
2023-09-18 21:33:16.908 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/16/pointsofinterest'
2023-09-18 21:33:16.909 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/16/pointsofinterest'
2023-09-18 21:33:16.910 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-09-18 21:33:16.911 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-09-18 21:33:16.912 -05:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-09-18 21:33:16.913 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-18 21:33:16.914 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-18 21:33:16.915 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-18 21:33:16.916 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-18 21:33:16.917 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-18 21:33:16.917 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-09-18 21:33:16.923 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-09-18 21:33:16.927 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-09-18 21:33:16.928 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-09-18 21:33:16.929 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-18 21:33:16.929 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-18 21:33:16.930 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-09-18 21:33:16.931 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-09-18 21:33:16.942 -05:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-09-18 21:33:16.950 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 21:33:16.951 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-18 21:33:16.952 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:33:16.952 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:33:16.953 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-18 21:33:16.956 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-18 21:33:16.957 -05:00 [DBG] A data reader was disposed.
2023-09-18 21:33:16.957 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:33:16.958 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:33:16.959 -05:00 [INF] City with id 16 wasn't found when accessing points of interest.
2023-09-18 21:33:16.960 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-18 21:33:16.962 -05:00 [DBG] No information found on request to perform content negotiation.
2023-09-18 21:33:16.963 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-09-18 21:33:16.964 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-09-18 21:33:16.966 -05:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-09-18 21:33:16.978 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 60.6648ms
2023-09-18 21:33:16.979 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-09-18 21:33:16.980 -05:00 [DBG] Connection id "0HMTON2CG4BHN" completed keep alive response.
2023-09-18 21:33:16.980 -05:00 [DBG] 'CityInfoContext' disposed.
2023-09-18 21:33:16.981 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/16/pointsofinterest - - - 404 161 application/problem+json;+charset=utf-8 74.2632ms
2023-09-18 21:33:25.920 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest - -
2023-09-18 21:33:25.921 -05:00 [DBG] The request path  does not match the path filter
2023-09-18 21:33:25.922 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-09-18 21:33:25.923 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-09-18 21:33:25.925 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-09-18 21:33:25.926 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-09-18 21:33:25.926 -05:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-09-18 21:33:25.928 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-18 21:33:25.929 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-18 21:33:25.930 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-18 21:33:25.931 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-18 21:33:25.932 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-18 21:33:25.933 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-09-18 21:33:25.935 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-09-18 21:33:25.936 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-09-18 21:33:25.936 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-09-18 21:33:25.937 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-18 21:33:25.938 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-18 21:33:25.939 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-09-18 21:33:25.939 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-09-18 21:33:25.969 -05:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-09-18 21:33:25.970 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 21:33:25.971 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-18 21:33:25.972 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:33:25.972 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:33:25.973 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-18 21:33:25.975 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-18 21:33:25.977 -05:00 [DBG] A data reader was disposed.
2023-09-18 21:33:25.977 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:33:25.978 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:33:25.979 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 21:33:25.979 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-18 21:33:25.980 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:33:25.981 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:33:25.981 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2023-09-18 21:33:25.983 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2023-09-18 21:33:25.984 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 21:33:25.985 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 21:33:25.986 -05:00 [DBG] A data reader was disposed.
2023-09-18 21:33:25.986 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:33:25.987 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:33:25.988 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-18 21:33:25.989 -05:00 [DBG] No information found on request to perform content negotiation.
2023-09-18 21:33:25.990 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-18 21:33:25.990 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-18 21:33:25.991 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-18 21:33:25.992 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-18 21:33:25.993 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 59.9159ms
2023-09-18 21:33:25.994 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-09-18 21:33:25.994 -05:00 [DBG] Connection id "0HMTON2CG4BHN" completed keep alive response.
2023-09-18 21:33:25.995 -05:00 [DBG] 'CityInfoContext' disposed.
2023-09-18 21:33:25.996 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest - - - 200 207 application/json;+charset=utf-8 76.1676ms
2023-09-18 21:48:53.470 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7169/api/cities/3/pointsofinterest application/json 117
2023-09-18 21:48:53.471 -05:00 [DBG] POST requests are not supported
2023-09-18 21:48:53.472 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-09-18 21:48:53.473 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-09-18 21:48:53.475 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-09-18 21:48:53.476 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-09-18 21:48:53.481 -05:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-09-18 21:48:53.483 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-18 21:48:53.484 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-18 21:48:53.485 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-18 21:48:53.487 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-18 21:48:53.488 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-18 21:48:53.489 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-09-18 21:48:53.490 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-09-18 21:48:53.491 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-09-18 21:48:53.492 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-09-18 21:48:53.493 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-18 21:48:53.494 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-18 21:48:53.494 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-09-18 21:48:53.495 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-09-18 21:48:53.496 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-09-18 21:48:53.498 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-09-18 21:48:53.499 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-09-18 21:48:53.500 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-09-18 21:48:53.506 -05:00 [DBG] Connection id "0HMTON2CG4BHN", Request id "0HMTON2CG4BHN:00000005": started reading request body.
2023-09-18 21:48:53.507 -05:00 [DBG] Connection id "0HMTON2CG4BHN", Request id "0HMTON2CG4BHN:00000005": done reading request body.
2023-09-18 21:48:53.536 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-09-18 21:48:53.537 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-09-18 21:48:53.538 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-09-18 21:48:53.542 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-09-18 21:48:53.544 -05:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-09-18 21:48:53.545 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 21:48:53.546 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-18 21:48:53.547 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:48:53.556 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:48:53.559 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-18 21:48:53.561 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-18 21:48:53.562 -05:00 [DBG] A data reader was disposed.
2023-09-18 21:48:53.563 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:48:53.563 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:48:53.568 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-09-18 21:48:53.572 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-18 21:48:53.575 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 21:48:53.576 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-18 21:48:53.577 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:48:53.578 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:48:53.578 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-09-18 21:48:53.581 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-09-18 21:48:53.584 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 21:48:53.588 -05:00 [DBG] A data reader was disposed.
2023-09-18 21:48:53.588 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:48:53.589 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:48:53.594 -05:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-09-18 21:48:53.597 -05:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-09-18 21:48:53.611 -05:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 21:48:53.632 -05:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 21:48:53.648 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 21:48:53.651 -05:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-09-18 21:48:53.666 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:48:53.667 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:48:53.669 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-09-18 21:48:53.677 -05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-09-18 21:48:53.713 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 21:48:53.714 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-18 21:48:53.715 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [PointsOfInterest]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-09-18 21:48:53.722 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [PointsOfInterest]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-09-18 21:48:53.741 -05:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-09-18 21:48:53.746 -05:00 [DBG] A data reader was disposed.
2023-09-18 21:48:53.750 -05:00 [DBG] Committing transaction.
2023-09-18 21:48:53.754 -05:00 [DBG] Committed transaction.
2023-09-18 21:48:53.758 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:48:53.759 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:48:53.763 -05:00 [DBG] Disposing transaction.
2023-09-18 21:48:53.770 -05:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 21:48:53.773 -05:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-09-18 21:48:53.776 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-18 21:48:53.778 -05:00 [DBG] No information found on request to perform content negotiation.
2023-09-18 21:48:53.778 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-18 21:48:53.779 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-18 21:48:53.779 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-18 21:48:53.780 -05:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-09-18 21:48:53.790 -05:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-09-18 21:48:53.798 -05:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest/7 and 
2023-09-18 21:48:53.800 -05:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest/7
2023-09-18 21:48:53.801 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 312.0813ms
2023-09-18 21:48:53.802 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-09-18 21:48:53.802 -05:00 [DBG] Connection id "0HMTON2CG4BHN" completed keep alive response.
2023-09-18 21:48:53.803 -05:00 [DBG] 'CityInfoContext' disposed.
2023-09-18 21:48:53.803 -05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7169/api/cities/3/pointsofinterest application/json 117 - 201 111 application/json;+charset=utf-8 333.5958ms
2023-09-18 21:57:33.019 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/3/pointsofinterest/7 - -
2023-09-18 21:57:33.022 -05:00 [DBG] The request path  does not match the path filter
2023-09-18 21:57:33.025 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/7'
2023-09-18 21:57:33.026 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/3/pointsofinterest/7'
2023-09-18 21:57:33.029 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-09-18 21:57:33.030 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-09-18 21:57:33.036 -05:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-09-18 21:57:33.038 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-18 21:57:33.039 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-18 21:57:33.039 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-18 21:57:33.041 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-18 21:57:33.041 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-18 21:57:33.042 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-09-18 21:57:33.043 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-09-18 21:57:33.045 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-09-18 21:57:33.046 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-09-18 21:57:33.046 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-18 21:57:33.047 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-18 21:57:33.048 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-09-18 21:57:33.049 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-09-18 21:57:33.049 -05:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-09-18 21:57:33.050 -05:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-09-18 21:57:33.051 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-09-18 21:57:33.051 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-09-18 21:57:33.052 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-09-18 21:57:33.053 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-09-18 21:57:33.054 -05:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-09-18 21:57:33.055 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 21:57:33.056 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-18 21:57:33.057 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:57:33.066 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:57:33.068 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-18 21:57:33.070 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-18 21:57:33.071 -05:00 [DBG] A data reader was disposed.
2023-09-18 21:57:33.071 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:57:33.072 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:57:33.074 -05:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-09-18 21:57:33.077 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-09-18 21:57:33.079 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 21:57:33.080 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-18 21:57:33.081 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:57:33.081 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:57:33.082 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-09-18 21:57:33.089 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-09-18 21:57:33.091 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 21:57:33.091 -05:00 [DBG] A data reader was disposed.
2023-09-18 21:57:33.092 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:57:33.093 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 21:57:33.095 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-18 21:57:33.097 -05:00 [DBG] No information found on request to perform content negotiation.
2023-09-18 21:57:33.098 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-18 21:57:33.098 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-18 21:57:33.099 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-18 21:57:33.100 -05:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-09-18 21:57:33.101 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 58.7097ms
2023-09-18 21:57:33.102 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-09-18 21:57:33.102 -05:00 [DBG] Connection id "0HMTON2CG4BHN" completed keep alive response.
2023-09-18 21:57:33.103 -05:00 [DBG] 'CityInfoContext' disposed.
2023-09-18 21:57:33.104 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/3/pointsofinterest/7 - - - 200 111 application/json;+charset=utf-8 86.8685ms
2023-09-18 22:05:27.726 -05:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7169/api/cities/1/pointsofinterest/1 application/json 122
2023-09-18 22:05:27.727 -05:00 [DBG] PUT requests are not supported
2023-09-18 22:05:27.728 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-09-18 22:05:27.729 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-09-18 22:05:27.729 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-09-18 22:05:27.730 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-09-18 22:05:27.733 -05:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-09-18 22:05:27.734 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-18 22:05:27.735 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-18 22:05:27.736 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-18 22:05:27.737 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-18 22:05:27.737 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-18 22:05:27.738 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-09-18 22:05:27.739 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-09-18 22:05:27.740 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-09-18 22:05:27.740 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-09-18 22:05:27.741 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-18 22:05:27.742 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-18 22:05:27.743 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-09-18 22:05:27.744 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-09-18 22:05:27.745 -05:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-09-18 22:05:27.745 -05:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-09-18 22:05:27.746 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-09-18 22:05:27.747 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-09-18 22:05:27.748 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-09-18 22:05:27.749 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-09-18 22:05:27.750 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2023-09-18 22:05:27.751 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2023-09-18 22:05:27.751 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-09-18 22:05:27.752 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-09-18 22:05:27.753 -05:00 [DBG] Connection id "0HMTON2CG4BHN", Request id "0HMTON2CG4BHN:00000007": started reading request body.
2023-09-18 22:05:27.754 -05:00 [DBG] Connection id "0HMTON2CG4BHN", Request id "0HMTON2CG4BHN:00000007": done reading request body.
2023-09-18 22:05:27.755 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2023-09-18 22:05:27.756 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2023-09-18 22:05:27.757 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2023-09-18 22:05:27.759 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2023-09-18 22:05:27.762 -05:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-09-18 22:05:27.763 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 22:05:27.764 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-18 22:05:27.765 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:05:27.778 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:05:27.780 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-18 22:05:27.787 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-18 22:05:27.789 -05:00 [DBG] A data reader was disposed.
2023-09-18 22:05:27.789 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:05:27.790 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:05:27.790 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 22:05:27.791 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-18 22:05:27.792 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:05:27.793 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:05:27.794 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-09-18 22:05:27.797 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-09-18 22:05:27.803 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 22:05:27.804 -05:00 [DBG] A data reader was disposed.
2023-09-18 22:05:27.804 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:05:27.805 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:05:27.807 -05:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-09-18 22:05:27.807 -05:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-09-18 22:05:27.809 -05:00 [DBG] The unchanged property 'PointOfInterest.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-09-18 22:05:27.810 -05:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 22:05:27.811 -05:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-09-18 22:05:27.812 -05:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-09-18 22:05:27.813 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:05:27.814 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:05:27.815 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-09-18 22:05:27.816 -05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-09-18 22:05:27.819 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 22:05:27.820 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-18 22:05:27.820 -05:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [PointsOfInterest] SET [Description] = @p0, [Name] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2023-09-18 22:05:27.824 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [PointsOfInterest] SET [Description] = @p0, [Name] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2023-09-18 22:05:27.827 -05:00 [DBG] A data reader was disposed.
2023-09-18 22:05:27.828 -05:00 [DBG] Committing transaction.
2023-09-18 22:05:27.828 -05:00 [DBG] Committed transaction.
2023-09-18 22:05:27.829 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:05:27.830 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:05:27.830 -05:00 [DBG] Disposing transaction.
2023-09-18 22:05:27.831 -05:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 22:05:27.832 -05:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-09-18 22:05:27.836 -05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-09-18 22:05:27.836 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) in 97.9895ms
2023-09-18 22:05:27.837 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-09-18 22:05:27.838 -05:00 [DBG] Connection id "0HMTON2CG4BHN" completed keep alive response.
2023-09-18 22:05:27.838 -05:00 [DBG] 'CityInfoContext' disposed.
2023-09-18 22:05:27.839 -05:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7169/api/cities/1/pointsofinterest/1 application/json 122 - 204 - - 112.8571ms
2023-09-18 22:16:01.663 -05:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7169/api/cities/1/pointsofinterest/1 application/json 101
2023-09-18 22:16:01.672 -05:00 [DBG] PATCH requests are not supported
2023-09-18 22:16:01.674 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-09-18 22:16:01.675 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-09-18 22:16:01.679 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-09-18 22:16:01.681 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-09-18 22:16:01.686 -05:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-09-18 22:16:01.687 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-18 22:16:01.687 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-18 22:16:01.688 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-18 22:16:01.691 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-18 22:16:01.692 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-18 22:16:01.693 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-09-18 22:16:01.694 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-09-18 22:16:01.695 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-09-18 22:16:01.696 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-09-18 22:16:01.697 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-18 22:16:01.698 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-18 22:16:01.699 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-09-18 22:16:01.699 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-09-18 22:16:01.700 -05:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-09-18 22:16:01.701 -05:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-09-18 22:16:01.702 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-09-18 22:16:01.702 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-09-18 22:16:01.703 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-09-18 22:16:01.704 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-09-18 22:16:01.704 -05:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2023-09-18 22:16:01.705 -05:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2023-09-18 22:16:01.706 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-09-18 22:16:01.707 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-09-18 22:16:01.708 -05:00 [DBG] Connection id "0HMTON2CG4BHN", Request id "0HMTON2CG4BHN:00000008": started reading request body.
2023-09-18 22:16:01.708 -05:00 [DBG] Connection id "0HMTON2CG4BHN", Request id "0HMTON2CG4BHN:00000008": done reading request body.
2023-09-18 22:16:01.727 -05:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-09-18 22:16:01.728 -05:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-09-18 22:16:01.729 -05:00 [DBG] Attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2023-09-18 22:16:01.730 -05:00 [DBG] Done attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-09-18 22:16:01.731 -05:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-09-18 22:16:01.733 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 22:16:01.733 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-18 22:16:01.734 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:16:01.746 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:16:01.749 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-18 22:16:01.754 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-18 22:16:01.755 -05:00 [DBG] A data reader was disposed.
2023-09-18 22:16:01.756 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:16:01.757 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:16:01.758 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 22:16:01.758 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-18 22:16:01.759 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:16:01.760 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:16:01.761 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-09-18 22:16:01.766 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE ([p].[CityId] = @__cityId_0) AND ([p].[Id] = @__pointOfInterestId_1)
2023-09-18 22:16:01.771 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 22:16:01.771 -05:00 [DBG] A data reader was disposed.
2023-09-18 22:16:01.772 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:16:01.773 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:16:01.780 -05:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-09-18 22:16:01.781 -05:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-09-18 22:16:01.782 -05:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-09-18 22:16:01.783 -05:00 [DBG] SaveChanges completed for 'CityInfoContext' with 0 entities written to the database.
2023-09-18 22:16:01.784 -05:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-09-18 22:16:01.784 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 90.9228ms
2023-09-18 22:16:01.785 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-09-18 22:16:01.785 -05:00 [DBG] Connection id "0HMTON2CG4BHN" completed keep alive response.
2023-09-18 22:16:01.786 -05:00 [DBG] 'CityInfoContext' disposed.
2023-09-18 22:16:01.787 -05:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7169/api/cities/1/pointsofinterest/1 application/json 101 - 204 - - 123.5634ms
2023-09-18 22:16:07.739 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities - -
2023-09-18 22:16:07.740 -05:00 [DBG] The request path  does not match the path filter
2023-09-18 22:16:07.740 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-09-18 22:16:07.741 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-09-18 22:16:07.742 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-18 22:16:07.744 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-18 22:16:07.747 -05:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-09-18 22:16:07.749 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-18 22:16:07.750 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-18 22:16:07.751 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-18 22:16:07.752 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-18 22:16:07.753 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-18 22:16:07.754 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-09-18 22:16:07.755 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-09-18 22:16:07.756 -05:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-09-18 22:16:07.758 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-09-18 22:16:07.763 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-09-18 22:16:07.765 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 22:16:07.766 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-18 22:16:07.767 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:16:07.767 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:16:07.768 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-09-18 22:16:07.771 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-09-18 22:16:07.773 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 22:16:07.774 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 22:16:07.774 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 22:16:07.775 -05:00 [DBG] A data reader was disposed.
2023-09-18 22:16:07.776 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:16:07.777 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:16:07.781 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-18 22:16:07.783 -05:00 [DBG] No information found on request to perform content negotiation.
2023-09-18 22:16:07.783 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-18 22:16:07.784 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-18 22:16:07.784 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-18 22:16:07.785 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-18 22:16:07.787 -05:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 33.2131ms
2023-09-18 22:16:07.788 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-09-18 22:16:07.788 -05:00 [DBG] Connection id "0HMTON2CG4BHN" completed keep alive response.
2023-09-18 22:16:07.789 -05:00 [DBG] 'CityInfoContext' disposed.
2023-09-18 22:16:07.790 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities - - - 200 247 application/json;+charset=utf-8 50.9756ms
2023-09-18 22:16:32.517 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest - -
2023-09-18 22:16:32.517 -05:00 [DBG] The request path  does not match the path filter
2023-09-18 22:16:32.518 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-09-18 22:16:32.519 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-09-18 22:16:32.520 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-09-18 22:16:32.521 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-09-18 22:16:32.522 -05:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-09-18 22:16:32.524 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-09-18 22:16:32.524 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-09-18 22:16:32.525 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-09-18 22:16:32.527 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-09-18 22:16:32.528 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-09-18 22:16:32.529 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-09-18 22:16:32.530 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-09-18 22:16:32.531 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-09-18 22:16:32.532 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-09-18 22:16:32.533 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-18 22:16:32.533 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-09-18 22:16:32.534 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-09-18 22:16:32.535 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-09-18 22:16:32.536 -05:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2023-09-18 22:16:32.537 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 22:16:32.537 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-18 22:16:32.538 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:16:32.539 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:16:32.540 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-18 22:16:32.544 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-18 22:16:32.546 -05:00 [DBG] A data reader was disposed.
2023-09-18 22:16:32.546 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:16:32.547 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:16:32.548 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-09-18 22:16:32.548 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-09-18 22:16:32.549 -05:00 [DBG] Opening connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:16:32.550 -05:00 [DBG] Opened connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:16:32.551 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2023-09-18 22:16:32.554 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2023-09-18 22:16:32.555 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 22:16:32.556 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-09-18 22:16:32.557 -05:00 [DBG] A data reader was disposed.
2023-09-18 22:16:32.557 -05:00 [DBG] Closing connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:16:32.558 -05:00 [DBG] Closed connection to database 'CityAPI' on server 'localhost'.
2023-09-18 22:16:32.559 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-09-18 22:16:32.562 -05:00 [DBG] No information found on request to perform content negotiation.
2023-09-18 22:16:32.562 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-09-18 22:16:32.562 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-09-18 22:16:32.563 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-09-18 22:16:32.564 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-18 22:16:32.565 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 35.4392ms
2023-09-18 22:16:32.565 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-09-18 22:16:32.566 -05:00 [DBG] Connection id "0HMTON2CG4BHN" completed keep alive response.
2023-09-18 22:16:32.567 -05:00 [DBG] 'CityInfoContext' disposed.
2023-09-18 22:16:32.567 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7169/api/cities/1/pointsofinterest - - - 200 227 application/json;+charset=utf-8 50.9250ms
